// JIRA Integration Test - Using Real MCP Atlassian Tools\n// This script demonstrates how to create JIRA issues from your functional requirements\n\n// Test creating a JIRA issue using the MCP tools\nasync function createSampleInitiativeInJira() {\n    try {\n        console.log('Creating sample initiative in JIRA...');\n        \n        // Sample initiative data\n        const initiative = {\n            title: 'User Authentication & Security System',\n            description: 'Implement comprehensive authentication system with MFA, SSO, and corporate credential integration',\n            priority: 'High',\n            requirements: [\n                'Corporate credential login',\n                'Multi-factor authentication', \n                'Password reset functionality'\n            ],\n            acceptanceCriteria: [\n                'Users can log in with corporate credentials',\n                'MFA is enforced for all users',\n                'Password reset works via email'\n            ]\n        };\n        \n        // Format description with requirements and criteria\n        let description = initiative.description;\n        \n        if (initiative.requirements && initiative.requirements.length > 0) {\n            description += '\\n\\nRequirements:\\n';\n            initiative.requirements.forEach(req => {\n                description += '* ' + req + '\\n';\n            });\n        }\n        \n        if (initiative.acceptanceCriteria && initiative.acceptanceCriteria.length > 0) {\n            description += '\\nAcceptance Criteria:\\n';\n            initiative.acceptanceCriteria.forEach(criteria => {\n                description += '* ' + criteria + '\\n';\n            });\n        }\n        \n        // Create the JIRA issue using MCP Atlassian tool\n        // Note: Replace 'A360' with your desired project key\n        const result = await mcp_atlassian_atl_createJiraIssue({\n            cloudId: '2604d8a6-7a83-454a-abcc-2cd164d90231',\n            projectKey: 'A360',  // Analyst 360 project\n            issueTypeName: 'Initiative',\n            summary: initiative.title,\n            description: description\n        });\n        \n        console.log('JIRA issue created successfully:');\n        console.log('Issue Key:', result.key);\n        console.log('Issue URL: https://mistech.atlassian.net/browse/' + result.key);\n        \n        return result;\n        \n    } catch (error) {\n        console.error('Error creating JIRA issue:', error);\n        throw error;\n    }\n}\n\n// Test getting available projects\nasync function getAvailableProjects() {\n    try {\n        console.log('Fetching available JIRA projects...');\n        \n        const projects = await mcp_atlassian_atl_getVisibleJiraProjects({\n            cloudId: '2604d8a6-7a83-454a-abcc-2cd164d90231'\n        });\n        \n        console.log('Available projects:');\n        projects.values.forEach(project => {\n            console.log(`- ${project.name} (${project.key})`);\n        });\n        \n        return projects;\n        \n    } catch (error) {\n        console.error('Error fetching projects:', error);\n        throw error;\n    }\n}\n\n// Test getting issue types for a project\nasync function getIssueTypes(projectKey) {\n    try {\n        console.log(`Fetching issue types for project ${projectKey}...`);\n        \n        const issueTypes = await mcp_atlassian_atl_getJiraProjectIssueTypesMetadata({\n            cloudId: '2604d8a6-7a83-454a-abcc-2cd164d90231',\n            projectIdOrKey: projectKey\n        });\n        \n        console.log('Available issue types:');\n        issueTypes.values.forEach(type => {\n            console.log(`- ${type.name}: ${type.description}`);\n        });\n        \n        return issueTypes;\n        \n    } catch (error) {\n        console.error('Error fetching issue types:', error);\n        throw error;\n    }\n}\n\n// Create multiple initiatives from AI-generated data\nasync function createMultipleInitiatives() {\n    try {\n        const initiatives = [\n            {\n                title: 'Data Management & Security Platform',\n                description: 'Build secure data storage and management system with encryption and search capabilities',\n                priority: 'High',\n                requirements: ['Document upload/storage', 'Data encryption', 'Search and filtering']\n            },\n            {\n                title: 'Reporting & Analytics Dashboard',\n                description: 'Create comprehensive reporting system with real-time dashboards and export capabilities',\n                priority: 'Medium',\n                requirements: ['Monthly reports', 'PDF/Excel export', 'Real-time dashboard']\n            },\n            {\n                title: 'Enterprise Integration Services',\n                description: 'Develop integration layer for LDAP, APIs, and SSO connectivity',\n                priority: 'High',\n                requirements: ['LDAP integration', 'API endpoints', 'SSO capability']\n            }\n        ];\n        \n        const results = [];\n        \n        for (const initiative of initiatives) {\n            console.log(`Creating initiative: ${initiative.title}`);\n            \n            let description = initiative.description;\n            if (initiative.requirements) {\n                description += '\\n\\nRequirements:\\n';\n                initiative.requirements.forEach(req => {\n                    description += '* ' + req + '\\n';\n                });\n            }\n            \n            try {\n                const result = await mcp_atlassian_atl_createJiraIssue({\n                    cloudId: '2604d8a6-7a83-454a-abcc-2cd164d90231',\n                    projectKey: 'A360',\n                    issueTypeName: 'Initiative',\n                    summary: initiative.title,\n                    description: description\n                });\n                \n                results.push({\n                    title: initiative.title,\n                    key: result.key,\n                    url: `https://mistech.atlassian.net/browse/${result.key}`,\n                    status: 'created'\n                });\n                \n                console.log(`✓ Created: ${result.key}`);\n                \n                // Add a small delay between requests\n                await new Promise(resolve => setTimeout(resolve, 1000));\n                \n            } catch (error) {\n                console.error(`✗ Failed to create ${initiative.title}:`, error);\n                results.push({\n                    title: initiative.title,\n                    status: 'failed',\n                    error: error.message\n                });\n            }\n        }\n        \n        console.log('\\nSummary of created initiatives:');\n        results.forEach(result => {\n            if (result.status === 'created') {\n                console.log(`✓ ${result.title} -> ${result.key} (${result.url})`);\n            } else {\n                console.log(`✗ ${result.title} -> Failed: ${result.error}`);\n            }\n        });\n        \n        return results;\n        \n    } catch (error) {\n        console.error('Error in batch creation:', error);\n        throw error;\n    }\n}\n\n// Export functions for use in your application\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = {\n        createSampleInitiativeInJira,\n        getAvailableProjects,\n        getIssueTypes,\n        createMultipleInitiatives\n    };\n}\n\n/* \nUSAGE INSTRUCTIONS:\n\n1. To test individual functions:\n   - await createSampleInitiativeInJira()\n   - await getAvailableProjects()\n   - await getIssueTypes('A360')\n\n2. To create multiple initiatives:\n   - await createMultipleInitiatives()\n\n3. Integration with your application:\n   - Copy the MCP tool calls into your backend API\n   - Create REST endpoints that call these MCP functions\n   - Update your frontend to call your backend APIs\n\n4. Available MCP Atlassian Tools:\n   - mcp_atlassian_atl_createJiraIssue\n   - mcp_atlassian_atl_getVisibleJiraProjects  \n   - mcp_atlassian_atl_getJiraProjectIssueTypesMetadata\n   - mcp_atlassian_atl_getJiraIssue\n   - mcp_atlassian_atl_editJiraIssue\n   - mcp_atlassian_atl_searchJiraIssuesUsingJql\n   - mcp_atlassian_atl_addCommentToJiraIssue\n   - mcp_atlassian_atl_transitionJiraIssue\n\nReplace 'A360' with your desired project key from the available projects.\n*/